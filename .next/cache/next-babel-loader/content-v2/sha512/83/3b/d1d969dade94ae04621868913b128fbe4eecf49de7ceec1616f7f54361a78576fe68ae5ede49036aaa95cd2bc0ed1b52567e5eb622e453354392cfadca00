{"ast":null,"code":"import _regeneratorRuntime from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\PROJETOS\\\\react-next-movie-app\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState, useEffect } from \"react\";\nimport SideMenu from \"../components/sideMenu\";\nimport Carousel from \"../components/carousel\";\nimport MovieList from \"../components/movieList\";\nimport { getMovies, getCategories } from \"../actions/index\";\n\nvar Home = /*#__PURE__*/function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeCategory\", function (category) {\n      _this.setState({\n        filter: [category.id, category.name]\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterMovies\", function (movies) {\n      if (_this.state.filter[0] === 0) return movies;\n      return movies.filter(function (m) {\n        return m.genre_ids && m.genre_ids.includes(_this.state.filter[0]);\n      });\n    });\n\n    _this.state = {\n      filter: [0, \"Todos\"]\n    };\n    return _this;\n  } // wait for the movies on server side before renders on browser\n\n\n  _createClass(Home, [{\n    key: \"render\",\n    // // called only on Client (Browser...)\n    // componentDidMount() {\n    //\n    // }\n    value: function render() {\n      var _this$props = this.props,\n          movies = _this$props.movies,\n          images = _this$props.images,\n          categories = _this$props.categories;\n      return __jsx(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"home-page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"col-lg-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, __jsx(SideMenu, {\n        changeCategory: this.handleChangeCategory,\n        activeCategory: this.state.filter[0],\n        appName: \"Categorias\",\n        categories: categories || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      })), __jsx(\"div\", {\n        className: \"col-lg-9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, __jsx(Carousel, {\n        images: images || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }), __jsx(\"h4\", {\n        className: \"my-4 c-red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, \"Mostrando \", this.state.filter[1], \" Filmes\", \" \"), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }, __jsx(MovieList, {\n        movies: this.filterMovies(movies) || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }\n      })))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var movies, categories, images;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getMovies();\n\n              case 2:\n                movies = _context.sent;\n                _context.next = 5;\n                return getCategories();\n\n              case 5:\n                categories = _context.sent;\n                // let movies = [];\n                // let categories = [];\n                // getMovies()\n                //   .then((result) => {\n                //     movies = result;\n                //   })\n                //   .catch((error) => {\n                //     console.error(error);\n                //   });\n                // getCategories()\n                //   .then((result) => {\n                //     categories = result;\n                //   })\n                //   .catch((error) => {\n                //     console.error(error);\n                //   });\n                images = movies.map(function (movie) {\n                  return {\n                    id: \"image-\".concat(movie.id),\n                    backdrop_path: movie.backdrop_path,\n                    title: movie.title\n                  };\n                });\n                return _context.abrupt(\"return\", {\n                  movies: movies,\n                  categories: categories,\n                  images: images\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Home;\n}(React.Component); // Functional component\n// const Home = () => {\n//   const [movies, setMovies] = useState([]);\n//   useEffect(() => {\n//     getMovies().then((movies) => {\n//       setMovies(movies);\n//     });\n//   }, []);\n//   return (\n//     <div>\n//       <Head>\n//         <title>Home</title>\n//         <link\n//           rel=\"stylesheet\"\n//           href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n//           integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n//           crossOrigin=\"anonymous\"\n//         />\n//         <script\n//           src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\n//           integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\"\n//           crossOrigin=\"anonymous\"\n//         ></script>\n//         <script\n//           src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"\n//           integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\"\n//           crossOrigin=\"anonymous\"\n//         ></script>\n//         <script\n//           src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\n//           integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\n//           crossOrigin=\"anonymous\"\n//         ></script>\n//       </Head>\n//       <Navbar />\n//       <div className=\"home-page\">\n//         <div className=\"container-fluid\">\n//           <div className=\"row\">\n//             <div className=\"col-lg-3\">\n//               <SideMenu appName={\"Movie DB\"} />\n//             </div>\n//             <div className=\"col-lg-9\">\n//               <Carousel />\n//               <div className=\"row\">\n//                 <MovieList movies={movies} />\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <Footer />\n//       <style jsx>{`\n//         .home-page {\n//           padding-top: 80px;\n//         }\n//       `}</style>\n//     </div>\n//   );\n// };\n\n\nexport default Home;","map":{"version":3,"sources":["C:/PROJETOS/react-next-movie-app/pages/index.js"],"names":["React","useState","useEffect","SideMenu","Carousel","MovieList","getMovies","getCategories","Home","props","category","setState","filter","id","name","movies","state","m","genre_ids","includes","images","categories","handleChangeCategory","filterMovies","map","movie","backdrop_path","title","Component"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport SideMenu from \"../components/sideMenu\";\r\nimport Carousel from \"../components/carousel\";\r\nimport MovieList from \"../components/movieList\";\r\n\r\nimport { getMovies, getCategories } from \"../actions/index\";\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filter: [0, \"Todos\"],\r\n    };\r\n  }\r\n\r\n  // wait for the movies on server side before renders on browser\r\n  static async getInitialProps() {\r\n    const movies = await getMovies();\r\n    const categories = await getCategories();\r\n    // let movies = [];\r\n    // let categories = [];\r\n    // getMovies()\r\n    //   .then((result) => {\r\n    //     movies = result;\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.error(error);\r\n    //   });\r\n    // getCategories()\r\n    //   .then((result) => {\r\n    //     categories = result;\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.error(error);\r\n    //   });\r\n    const images = movies.map((movie) => {\r\n      return {\r\n        id: `image-${movie.id}`,\r\n        backdrop_path: movie.backdrop_path,\r\n        title: movie.title,\r\n      };\r\n    });\r\n    return { movies, categories, images };\r\n  }\r\n\r\n  handleChangeCategory = (category) => {\r\n    this.setState({ filter: [category.id, category.name] });\r\n  };\r\n\r\n  filterMovies = (movies) => {\r\n    if (this.state.filter[0] === 0) return movies;\r\n    return movies.filter((m) => {\r\n      return m.genre_ids && m.genre_ids.includes(this.state.filter[0]);\r\n    });\r\n  };\r\n\r\n  // // called only on Client (Browser...)\r\n  // componentDidMount() {\r\n  //\r\n  // }\r\n\r\n  render() {\r\n    const { movies, images, categories } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"home-page\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3\">\r\n                <SideMenu\r\n                  changeCategory={this.handleChangeCategory}\r\n                  activeCategory={this.state.filter[0]}\r\n                  appName={\"Categorias\"}\r\n                  categories={categories || []}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-9\">\r\n                <Carousel images={images || []} />\r\n                <h4 className=\"my-4 c-red\">\r\n                  Mostrando {this.state.filter[1]} Filmes{\" \"}\r\n                </h4>\r\n                <div className=\"row\">\r\n                  {/* {errorMessage && (\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                      {errorMessage}\r\n                    </div>\r\n                  )} */}\r\n                  <MovieList movies={this.filterMovies(movies) || []} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// Functional component\r\n// const Home = () => {\r\n//   const [movies, setMovies] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     getMovies().then((movies) => {\r\n//       setMovies(movies);\r\n//     });\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div>\r\n//       <Head>\r\n//         <title>Home</title>\r\n//         <link\r\n//           rel=\"stylesheet\"\r\n//           href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n//           integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n//           crossOrigin=\"anonymous\"\r\n//         />\r\n//         <script\r\n//           src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\r\n//           integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\"\r\n//           crossOrigin=\"anonymous\"\r\n//         ></script>\r\n//         <script\r\n//           src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"\r\n//           integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\"\r\n//           crossOrigin=\"anonymous\"\r\n//         ></script>\r\n//         <script\r\n//           src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\r\n//           integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\r\n//           crossOrigin=\"anonymous\"\r\n//         ></script>\r\n//       </Head>\r\n//       <Navbar />\r\n//       <div className=\"home-page\">\r\n//         <div className=\"container-fluid\">\r\n//           <div className=\"row\">\r\n//             <div className=\"col-lg-3\">\r\n//               <SideMenu appName={\"Movie DB\"} />\r\n//             </div>\r\n//             <div className=\"col-lg-9\">\r\n//               <Carousel />\r\n//               <div className=\"row\">\r\n//                 <MovieList movies={movies} />\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//       <Footer />\r\n\r\n//       <style jsx>{`\r\n//         .home-page {\r\n//           padding-top: 80px;\r\n//         }\r\n//       `}</style>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}