{"ast":null,"code":"import axios from \"axios\";\nexport const environment = \"prod\";\nconst dev = {\n  url: \"http://localhost:3000\"\n};\nconst prod = {\n  url: \"https://api.themoviedb.org/3\",\n  // api_key: process.env.API_ENV,\n  api_key: \"a6e3a68c3b13fa67916e7f4ce66a8290\",\n  language: \"pt-br\"\n};\nconst CATEGORY_DATA = [{\n  id: 0,\n  name: \"Todos\"\n}, {\n  id: 28,\n  name: \"Action\"\n}, {\n  id: 12,\n  name: \"Adventure\"\n}, {\n  id: 16,\n  name: \"Animation\"\n}, {\n  id: 35,\n  name: \"Comedy\"\n}, {\n  id: 80,\n  name: \"Crime\"\n}, {\n  id: 99,\n  name: \"Documentary\"\n}, {\n  id: 18,\n  name: \"Drama\"\n}, {\n  id: 10751,\n  name: \"Family\"\n}, {\n  id: 14,\n  name: \"Fantasy\"\n}, {\n  id: 36,\n  name: \"History\"\n}, {\n  id: 27,\n  name: \"Horror\"\n}, {\n  id: 10402,\n  name: \"Music\"\n}, {\n  id: 9648,\n  name: \"Mystery\"\n}, {\n  id: 10749,\n  name: \"Romance\"\n}, {\n  id: 878,\n  name: \"Science Fiction\"\n}, {\n  id: 10770,\n  name: \"TV\"\n}, {\n  id: 53,\n  name: \"Thriller\"\n}, {\n  id: 10752,\n  name: \"War\"\n}, {\n  id: 37,\n  name: \"Western\"\n}];\nexport const getCategories = () => {\n  if (environment === \"prod\") {\n    return axios.get(`${prod.url}/genre/movie/list?api_key=${prod.api_key}&language=${prod.language}`).then(res => {\n      const categories = [{\n        id: 0,\n        name: \"Todos\"\n      }];\n      categories.push(...res.data.genres);\n      return categories;\n    }).catch(error => {\n      console.error(\"getCategories\", error);\n    });\n  } else {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          resolve(CATEGORY_DATA);\n        } catch (error) {\n          reject(`Cannot fetch data: ${error}`);\n        }\n      }, 200);\n    });\n  }\n};\nexport const getMovies = (page = 1) => {\n  if (environment === \"prod\") {\n    return axios.get(`${prod.url}/movie/popular?api_key=${prod.api_key}&language=${prod.language}&page=${page}`).then(res => {\n      if (res.data && res.data.results) return res.data.results;else return [];\n    }).catch(error => {\n      console.error(\"getMovies\", error);\n      return [];\n    });\n  } else {\n    return axios.get(`${dev.url}/api/v1/movies`).then(res => {\n      return res.data.results;\n    });\n  }\n};\nexport const createMovie = movie => {\n  movie.id = Math.random().toString(36).substr(2, 7);\n  return axios.post(`${dev.url}/api/v1/movies`, movie).then(res => {\n    return res.data;\n  });\n};\nexport const getMovieById = id => {\n  if (environment === \"prod\") {\n    return axios.get(`${prod.url}/movie/${id}?api_key=${prod.api_key}&language=${prod.language}`).then(res => {\n      return res.data;\n    }).catch(error => {\n      console.error(\"getMovieById\", error);\n    });\n  } else {\n    return axios.get(`${dev.url}/api/v1/movies/${id}`).then(res => {\n      return res.data;\n    });\n  }\n};\nexport const updateMovie = movie => {\n  return axios.patch(`${dev.url}/api/v1/movies/${movie.id}`, movie).then(res => {\n    return res.data;\n  });\n};\nexport const deleteMovie = id => {\n  return axios.delete(`${dev.url}/api/v1/movies/${id}`).then(res => {\n    return res.data;\n  });\n};","map":null,"metadata":{},"sourceType":"module"}