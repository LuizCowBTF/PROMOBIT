{"ast":null,"code":"var _jsxFileName = \"C:\\\\PROJETOS\\\\react-next-movie-app\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from \"react\";\nimport SideMenu from \"../components/sideMenu\";\nimport Carousel from \"../components/carousel\";\nimport MovieList from \"../components/movieList\";\nimport { getMovies, getCategories } from \"../actions/index\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleChangeCategory\", category => {\n      this.setState({\n        filter: [category.id, category.name]\n      });\n    });\n\n    _defineProperty(this, \"filterMovies\", movies => {\n      if (this.state.filter[0] === 0) return movies;\n      return movies.filter(m => {\n        return m.genre_ids && m.genre_ids.includes(this.state.filter[0]);\n      });\n    });\n\n    this.state = {\n      filter: [0, \"All\"]\n    };\n  } // wait for the movies on server side before renders on browser\n\n\n  static async getInitialProps() {\n    const movies = await getMovies();\n    const categories = await getCategories(); // let movies = [];\n    // let categories = [];\n    // getMovies()\n    //   .then((result) => {\n    //     movies = result;\n    //   })\n    //   .catch((error) => {\n    //     console.error(error);\n    //   });\n    // getCategories()\n    //   .then((result) => {\n    //     categories = result;\n    //   })\n    //   .catch((error) => {\n    //     console.error(error);\n    //   });\n\n    const images = movies.map(movie => {\n      return {\n        id: `image-${movie.id}`,\n        backdrop_path: movie.backdrop_path,\n        title: movie.title\n      };\n    });\n    return {\n      movies,\n      categories,\n      images\n    };\n  }\n\n  // // called only on Client (Browser...)\n  // componentDidMount() {\n  //\n  // }\n  render() {\n    const {\n      movies,\n      images,\n      categories\n    } = this.props;\n    return __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"home-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, __jsx(SideMenu, {\n      changeCategory: this.handleChangeCategory,\n      activeCategory: this.state.filter[0],\n      appName: \"Categories\",\n      categories: categories || [],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    })), __jsx(\"div\", {\n      className: \"col-lg-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, __jsx(Carousel, {\n      images: images || [],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }), __jsx(\"h4\", {\n      className: \"my-4 c-red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Displaying \", this.state.filter[1], \" Movies\", \" \"), __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, __jsx(MovieList, {\n      movies: this.filterMovies(movies) || [],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    })))))));\n  }\n\n} // Functional component\n// const Home = () => {\n//   const [movies, setMovies] = useState([]);\n//   useEffect(() => {\n//     getMovies().then((movies) => {\n//       setMovies(movies);\n//     });\n//   }, []);\n//   return (\n//     <div>\n//       <Head>\n//         <title>Home</title>\n//         <link\n//           rel=\"stylesheet\"\n//           href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n//           integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n//           crossOrigin=\"anonymous\"\n//         />\n//         <script\n//           src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\n//           integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\"\n//           crossOrigin=\"anonymous\"\n//         ></script>\n//         <script\n//           src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"\n//           integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\"\n//           crossOrigin=\"anonymous\"\n//         ></script>\n//         <script\n//           src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\n//           integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\n//           crossOrigin=\"anonymous\"\n//         ></script>\n//       </Head>\n//       <Navbar />\n//       <div className=\"home-page\">\n//         <div className=\"container-fluid\">\n//           <div className=\"row\">\n//             <div className=\"col-lg-3\">\n//               <SideMenu appName={\"Movie DB\"} />\n//             </div>\n//             <div className=\"col-lg-9\">\n//               <Carousel />\n//               <div className=\"row\">\n//                 <MovieList movies={movies} />\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <Footer />\n//       <style jsx>{`\n//         .home-page {\n//           padding-top: 80px;\n//         }\n//       `}</style>\n//     </div>\n//   );\n// };\n\n\nexport default Home;","map":{"version":3,"sources":["C:/PROJETOS/react-next-movie-app/pages/index.js"],"names":["React","useState","useEffect","SideMenu","Carousel","MovieList","getMovies","getCategories","Home","Component","constructor","props","category","setState","filter","id","name","movies","state","m","genre_ids","includes","getInitialProps","categories","images","map","movie","backdrop_path","title","render","handleChangeCategory","filterMovies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport SideMenu from \"../components/sideMenu\";\r\nimport Carousel from \"../components/carousel\";\r\nimport MovieList from \"../components/movieList\";\r\n\r\nimport { getMovies, getCategories } from \"../actions/index\";\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filter: [0, \"All\"],\r\n    };\r\n  }\r\n\r\n  // wait for the movies on server side before renders on browser\r\n  static async getInitialProps() {\r\n    const movies = await getMovies();\r\n    const categories = await getCategories();\r\n    // let movies = [];\r\n    // let categories = [];\r\n    // getMovies()\r\n    //   .then((result) => {\r\n    //     movies = result;\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.error(error);\r\n    //   });\r\n    // getCategories()\r\n    //   .then((result) => {\r\n    //     categories = result;\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.error(error);\r\n    //   });\r\n    const images = movies.map((movie) => {\r\n      return {\r\n        id: `image-${movie.id}`,\r\n        backdrop_path: movie.backdrop_path,\r\n        title: movie.title,\r\n      };\r\n    });\r\n    return { movies, categories, images };\r\n  }\r\n\r\n  handleChangeCategory = (category) => {\r\n    this.setState({ filter: [category.id, category.name] });\r\n  };\r\n\r\n  filterMovies = (movies) => {\r\n    if (this.state.filter[0] === 0) return movies;\r\n    return movies.filter((m) => {\r\n      return m.genre_ids && m.genre_ids.includes(this.state.filter[0]);\r\n    });\r\n  };\r\n\r\n  // // called only on Client (Browser...)\r\n  // componentDidMount() {\r\n  //\r\n  // }\r\n\r\n  render() {\r\n    const { movies, images, categories } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"home-page\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-3\">\r\n                <SideMenu\r\n                  changeCategory={this.handleChangeCategory}\r\n                  activeCategory={this.state.filter[0]}\r\n                  appName={\"Categories\"}\r\n                  categories={categories || []}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-9\">\r\n                <Carousel images={images || []} />\r\n                <h4 className=\"my-4 c-red\">\r\n                  Displaying {this.state.filter[1]} Movies{\" \"}\r\n                </h4>\r\n                <div className=\"row\">\r\n                  {/* {errorMessage && (\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                      {errorMessage}\r\n                    </div>\r\n                  )} */}\r\n                  <MovieList movies={this.filterMovies(movies) || []} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// Functional component\r\n// const Home = () => {\r\n//   const [movies, setMovies] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     getMovies().then((movies) => {\r\n//       setMovies(movies);\r\n//     });\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div>\r\n//       <Head>\r\n//         <title>Home</title>\r\n//         <link\r\n//           rel=\"stylesheet\"\r\n//           href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n//           integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n//           crossOrigin=\"anonymous\"\r\n//         />\r\n//         <script\r\n//           src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\r\n//           integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\"\r\n//           crossOrigin=\"anonymous\"\r\n//         ></script>\r\n//         <script\r\n//           src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\"\r\n//           integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\"\r\n//           crossOrigin=\"anonymous\"\r\n//         ></script>\r\n//         <script\r\n//           src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\r\n//           integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\r\n//           crossOrigin=\"anonymous\"\r\n//         ></script>\r\n//       </Head>\r\n//       <Navbar />\r\n//       <div className=\"home-page\">\r\n//         <div className=\"container-fluid\">\r\n//           <div className=\"row\">\r\n//             <div className=\"col-lg-3\">\r\n//               <SideMenu appName={\"Movie DB\"} />\r\n//             </div>\r\n//             <div className=\"col-lg-9\">\r\n//               <Carousel />\r\n//               <div className=\"row\">\r\n//                 <MovieList movies={movies} />\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//       <Footer />\r\n\r\n//       <style jsx>{`\r\n//         .home-page {\r\n//           padding-top: 80px;\r\n//         }\r\n//       `}</style>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}