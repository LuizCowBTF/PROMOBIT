{"ast":null,"code":"import _toConsumableArray from \"C:/PROJETOS/react-next-movie-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from \"axios\";\nexport var environment = \"prod\";\nvar dev = {\n  url: \"http://localhost:3000\"\n};\nvar prod = {\n  url: \"https://api.themoviedb.org/3\",\n  // api_key: process.env.API_ENV,\n  api_key: \"a6e3a68c3b13fa67916e7f4ce66a8290\",\n  language: \"pt-br\"\n};\nvar CATEGORY_DATA = [{\n  id: 0,\n  name: \"Todos\"\n}, {\n  id: 28,\n  name: \"Action\"\n}, {\n  id: 12,\n  name: \"Adventure\"\n}, {\n  id: 16,\n  name: \"Animation\"\n}, {\n  id: 35,\n  name: \"Comedy\"\n}, {\n  id: 80,\n  name: \"Crime\"\n}, {\n  id: 99,\n  name: \"Documentary\"\n}, {\n  id: 18,\n  name: \"Drama\"\n}, {\n  id: 10751,\n  name: \"Family\"\n}, {\n  id: 14,\n  name: \"Fantasy\"\n}, {\n  id: 36,\n  name: \"History\"\n}, {\n  id: 27,\n  name: \"Horror\"\n}, {\n  id: 10402,\n  name: \"Music\"\n}, {\n  id: 9648,\n  name: \"Mystery\"\n}, {\n  id: 10749,\n  name: \"Romance\"\n}, {\n  id: 878,\n  name: \"Science Fiction\"\n}, {\n  id: 10770,\n  name: \"TV\"\n}, {\n  id: 53,\n  name: \"Thriller\"\n}, {\n  id: 10752,\n  name: \"War\"\n}, {\n  id: 37,\n  name: \"Western\"\n}];\nexport var getCategories = function getCategories() {\n  if (environment === \"prod\") {\n    return axios.get(\"\".concat(prod.url, \"/genre/movie/list?api_key=\").concat(prod.api_key, \"&language=\").concat(prod.language)).then(function (res) {\n      var categories = [{\n        id: 0,\n        name: \"Todos\"\n      }];\n      categories.push.apply(categories, _toConsumableArray(res.data.genres));\n      return categories;\n    })[\"catch\"](function (error) {\n      console.error(\"getCategories\", error);\n    });\n  } else {\n    return new Promise(function (resolve, reject) {\n      setTimeout(function () {\n        try {\n          resolve(CATEGORY_DATA);\n        } catch (error) {\n          reject(\"Cannot fetch data: \".concat(error));\n        }\n      }, 200);\n    });\n  }\n};\nexport var getMovies = function getMovies() {\n  var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n  if (environment === \"prod\") {\n    return axios.get(\"\".concat(prod.url, \"/movie/popular?api_key=\").concat(prod.api_key, \"&language=\").concat(prod.language, \"&page=\").concat(page)).then(function (res) {\n      if (res.data && res.data.results) return res.data.results;else return [];\n    })[\"catch\"](function (error) {\n      console.error(\"getMovies\", error);\n      return [];\n    });\n  } else {\n    return axios.get(\"\".concat(dev.url, \"/api/v1/movies\")).then(function (res) {\n      return res.data.results;\n    });\n  }\n};\nexport var createMovie = function createMovie(movie) {\n  movie.id = Math.random().toString(36).substr(2, 7);\n  return axios.post(\"\".concat(dev.url, \"/api/v1/movies\"), movie).then(function (res) {\n    return res.data;\n  });\n};\nexport var getMovieById = function getMovieById(id) {\n  if (environment === \"prod\") {\n    return axios.get(\"\".concat(prod.url, \"/movie/\").concat(id, \"?api_key=\").concat(prod.api_key, \"&language=\").concat(prod.language)).then(function (res) {\n      return res.data;\n    })[\"catch\"](function (error) {\n      console.error(\"getMovieById\", error);\n    });\n  } else {\n    return axios.get(\"\".concat(dev.url, \"/api/v1/movies/\").concat(id)).then(function (res) {\n      return res.data;\n    });\n  }\n};\nexport var updateMovie = function updateMovie(movie) {\n  return axios.patch(\"\".concat(dev.url, \"/api/v1/movies/\").concat(movie.id), movie).then(function (res) {\n    return res.data;\n  });\n};\nexport var deleteMovie = function deleteMovie(id) {\n  return axios[\"delete\"](\"\".concat(dev.url, \"/api/v1/movies/\").concat(id)).then(function (res) {\n    return res.data;\n  });\n};","map":{"version":3,"sources":["C:/PROJETOS/react-next-movie-app/actions/index.js"],"names":["axios","environment","dev","url","prod","api_key","language","CATEGORY_DATA","id","name","getCategories","get","then","res","categories","push","data","genres","error","console","Promise","resolve","reject","setTimeout","getMovies","page","results","createMovie","movie","Math","random","toString","substr","post","getMovieById","updateMovie","patch","deleteMovie"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,WAAW,GAAG,MAApB;AAEP,IAAMC,GAAG,GAAG;AACVC,EAAAA,GAAG,EAAE;AADK,CAAZ;AAIA,IAAMC,IAAI,GAAG;AACXD,EAAAA,GAAG,EAAE,8BADM;AAEX;AACAE,EAAAA,OAAO,EAAE,kCAHE;AAIXC,EAAAA,QAAQ,EAAE;AAJC,CAAb;AAOA,IAAMC,aAAa,GAAG,CACpB;AACEC,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CADoB,EAKpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CALoB,EASpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAToB,EAapB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAboB,EAiBpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAjBoB,EAqBpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CArBoB,EAyBpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAzBoB,EA6BpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CA7BoB,EAiCpB;AACED,EAAAA,EAAE,EAAE,KADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAjCoB,EAqCpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CArCoB,EAyCpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAzCoB,EA6CpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CA7CoB,EAiDpB;AACED,EAAAA,EAAE,EAAE,KADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAjDoB,EAqDpB;AACED,EAAAA,EAAE,EAAE,IADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CArDoB,EAyDpB;AACED,EAAAA,EAAE,EAAE,KADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAzDoB,EA6DpB;AACED,EAAAA,EAAE,EAAE,GADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CA7DoB,EAiEpB;AACED,EAAAA,EAAE,EAAE,KADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAjEoB,EAqEpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CArEoB,EAyEpB;AACED,EAAAA,EAAE,EAAE,KADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAzEoB,EA6EpB;AACED,EAAAA,EAAE,EAAE,EADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CA7EoB,CAAtB;AAmFA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,MAAIT,WAAW,KAAK,MAApB,EAA4B;AAC1B,WAAOD,KAAK,CACTW,GADI,WAEAP,IAAI,CAACD,GAFL,uCAEqCC,IAAI,CAACC,OAF1C,uBAE8DD,IAAI,CAACE,QAFnE,GAIJM,IAJI,CAIC,UAACC,GAAD,EAAS;AACb,UAAMC,UAAU,GAAG,CAAC;AAAEN,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAE;AAAf,OAAD,CAAnB;AACAK,MAAAA,UAAU,CAACC,IAAX,OAAAD,UAAU,qBAASD,GAAG,CAACG,IAAJ,CAASC,MAAlB,EAAV;AACA,aAAOH,UAAP;AACD,KARI,WASE,UAACI,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAc,eAAd,EAA+BA,KAA/B;AACD,KAXI,CAAP;AAYD,GAbD,MAaO;AACL,WAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,MAAAA,UAAU,CAAC,YAAM;AACf,YAAI;AACFF,UAAAA,OAAO,CAACd,aAAD,CAAP;AACD,SAFD,CAEE,OAAOW,KAAP,EAAc;AACdI,UAAAA,MAAM,8BAAuBJ,KAAvB,EAAN;AACD;AACF,OANS,EAMP,GANO,CAAV;AAOD,KARM,CAAP;AASD;AACF,CAzBM;AA2BP,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,GAAc;AAAA,MAAbC,IAAa,uEAAN,CAAM;;AACrC,MAAIxB,WAAW,KAAK,MAApB,EAA4B;AAC1B,WAAOD,KAAK,CACTW,GADI,WAEAP,IAAI,CAACD,GAFL,oCAEkCC,IAAI,CAACC,OAFvC,uBAE2DD,IAAI,CAACE,QAFhE,mBAEiFmB,IAFjF,GAIJb,IAJI,CAIC,UAACC,GAAD,EAAS;AACb,UAAIA,GAAG,CAACG,IAAJ,IAAYH,GAAG,CAACG,IAAJ,CAASU,OAAzB,EAAkC,OAAOb,GAAG,CAACG,IAAJ,CAASU,OAAhB,CAAlC,KACK,OAAO,EAAP;AACN,KAPI,WAQE,UAACR,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAc,WAAd,EAA2BA,KAA3B;AACA,aAAO,EAAP;AACD,KAXI,CAAP;AAYD,GAbD,MAaO;AACL,WAAOlB,KAAK,CAACW,GAAN,WAAaT,GAAG,CAACC,GAAjB,qBAAsCS,IAAtC,CAA2C,UAACC,GAAD,EAAS;AACzD,aAAOA,GAAG,CAACG,IAAJ,CAASU,OAAhB;AACD,KAFM,CAAP;AAGD;AACF,CAnBM;AAqBP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AACpCA,EAAAA,KAAK,CAACpB,EAAN,GAAWqB,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAX;AACA,SAAOhC,KAAK,CAACiC,IAAN,WAAc/B,GAAG,CAACC,GAAlB,qBAAuCyB,KAAvC,EAA8ChB,IAA9C,CAAmD,UAACC,GAAD,EAAS;AACjE,WAAOA,GAAG,CAACG,IAAX;AACD,GAFM,CAAP;AAGD,CALM;AAOP,OAAO,IAAMkB,YAAY,GAAG,SAAfA,YAAe,CAAC1B,EAAD,EAAQ;AAClC,MAAIP,WAAW,KAAK,MAApB,EAA4B;AAC1B,WAAOD,KAAK,CACTW,GADI,WAEAP,IAAI,CAACD,GAFL,oBAEkBK,EAFlB,sBAEgCJ,IAAI,CAACC,OAFrC,uBAEyDD,IAAI,CAACE,QAF9D,GAIJM,IAJI,CAIC,UAACC,GAAD,EAAS;AACb,aAAOA,GAAG,CAACG,IAAX;AACD,KANI,WAOE,UAACE,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAc,cAAd,EAA8BA,KAA9B;AACD,KATI,CAAP;AAUD,GAXD,MAWO;AACL,WAAOlB,KAAK,CAACW,GAAN,WAAaT,GAAG,CAACC,GAAjB,4BAAsCK,EAAtC,GAA4CI,IAA5C,CAAiD,UAACC,GAAD,EAAS;AAC/D,aAAOA,GAAG,CAACG,IAAX;AACD,KAFM,CAAP;AAGD;AACF,CAjBM;AAmBP,OAAO,IAAMmB,WAAW,GAAG,SAAdA,WAAc,CAACP,KAAD,EAAW;AACpC,SAAO5B,KAAK,CACToC,KADI,WACKlC,GAAG,CAACC,GADT,4BAC8ByB,KAAK,CAACpB,EADpC,GAC0CoB,KAD1C,EAEJhB,IAFI,CAEC,UAACC,GAAD,EAAS;AACb,WAAOA,GAAG,CAACG,IAAX;AACD,GAJI,CAAP;AAKD,CANM;AAQP,OAAO,IAAMqB,WAAW,GAAG,SAAdA,WAAc,CAAC7B,EAAD,EAAQ;AACjC,SAAOR,KAAK,UAAL,WAAgBE,GAAG,CAACC,GAApB,4BAAyCK,EAAzC,GAA+CI,IAA/C,CAAoD,UAACC,GAAD,EAAS;AAClE,WAAOA,GAAG,CAACG,IAAX;AACD,GAFM,CAAP;AAGD,CAJM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const environment = \"prod\";\r\n\r\nconst dev = {\r\n  url: \"http://localhost:3000\",\r\n};\r\n\r\nconst prod = {\r\n  url: \"https://api.themoviedb.org/3\",\r\n  // api_key: process.env.API_ENV,\r\n  api_key: \"a6e3a68c3b13fa67916e7f4ce66a8290\",\r\n  language: \"pt-br\",\r\n};\r\n\r\nconst CATEGORY_DATA = [\r\n  {\r\n    id: 0,\r\n    name: \"Todos\",\r\n  },\r\n  {\r\n    id: 28,\r\n    name: \"Action\",\r\n  },\r\n  {\r\n    id: 12,\r\n    name: \"Adventure\",\r\n  },\r\n  {\r\n    id: 16,\r\n    name: \"Animation\",\r\n  },\r\n  {\r\n    id: 35,\r\n    name: \"Comedy\",\r\n  },\r\n  {\r\n    id: 80,\r\n    name: \"Crime\",\r\n  },\r\n  {\r\n    id: 99,\r\n    name: \"Documentary\",\r\n  },\r\n  {\r\n    id: 18,\r\n    name: \"Drama\",\r\n  },\r\n  {\r\n    id: 10751,\r\n    name: \"Family\",\r\n  },\r\n  {\r\n    id: 14,\r\n    name: \"Fantasy\",\r\n  },\r\n  {\r\n    id: 36,\r\n    name: \"History\",\r\n  },\r\n  {\r\n    id: 27,\r\n    name: \"Horror\",\r\n  },\r\n  {\r\n    id: 10402,\r\n    name: \"Music\",\r\n  },\r\n  {\r\n    id: 9648,\r\n    name: \"Mystery\",\r\n  },\r\n  {\r\n    id: 10749,\r\n    name: \"Romance\",\r\n  },\r\n  {\r\n    id: 878,\r\n    name: \"Science Fiction\",\r\n  },\r\n  {\r\n    id: 10770,\r\n    name: \"TV\",\r\n  },\r\n  {\r\n    id: 53,\r\n    name: \"Thriller\",\r\n  },\r\n  {\r\n    id: 10752,\r\n    name: \"War\",\r\n  },\r\n  {\r\n    id: 37,\r\n    name: \"Western\",\r\n  },\r\n];\r\n\r\nexport const getCategories = () => {\r\n  if (environment === \"prod\") {\r\n    return axios\r\n      .get(\r\n        `${prod.url}/genre/movie/list?api_key=${prod.api_key}&language=${prod.language}`\r\n      )\r\n      .then((res) => {\r\n        const categories = [{ id: 0, name: \"Todos\" }];\r\n        categories.push(...res.data.genres);\r\n        return categories;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"getCategories\", error);\r\n      });\r\n  } else {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        try {\r\n          resolve(CATEGORY_DATA);\r\n        } catch (error) {\r\n          reject(`Cannot fetch data: ${error}`);\r\n        }\r\n      }, 200);\r\n    });\r\n  }\r\n};\r\n\r\nexport const getMovies = (page = 1) => {\r\n  if (environment === \"prod\") {\r\n    return axios\r\n      .get(\r\n        `${prod.url}/movie/popular?api_key=${prod.api_key}&language=${prod.language}&page=${page}`\r\n      )\r\n      .then((res) => {\r\n        if (res.data && res.data.results) return res.data.results;\r\n        else return [];\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"getMovies\", error);\r\n        return [];\r\n      });\r\n  } else {\r\n    return axios.get(`${dev.url}/api/v1/movies`).then((res) => {\r\n      return res.data.results;\r\n    });\r\n  }\r\n};\r\n\r\nexport const createMovie = (movie) => {\r\n  movie.id = Math.random().toString(36).substr(2, 7);\r\n  return axios.post(`${dev.url}/api/v1/movies`, movie).then((res) => {\r\n    return res.data;\r\n  });\r\n};\r\n\r\nexport const getMovieById = (id) => {\r\n  if (environment === \"prod\") {\r\n    return axios\r\n      .get(\r\n        `${prod.url}/movie/${id}?api_key=${prod.api_key}&language=${prod.language}`\r\n      )\r\n      .then((res) => {\r\n        return res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"getMovieById\", error);\r\n      });\r\n  } else {\r\n    return axios.get(`${dev.url}/api/v1/movies/${id}`).then((res) => {\r\n      return res.data;\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateMovie = (movie) => {\r\n  return axios\r\n    .patch(`${dev.url}/api/v1/movies/${movie.id}`, movie)\r\n    .then((res) => {\r\n      return res.data;\r\n    });\r\n};\r\n\r\nexport const deleteMovie = (id) => {\r\n  return axios.delete(`${dev.url}/api/v1/movies/${id}`).then((res) => {\r\n    return res.data;\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}